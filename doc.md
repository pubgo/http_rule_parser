<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# http\_rule

```go
import "github.com/pubgo/http_rule_parser"
```

## Index

- [Constants](<#constants>)
- [type HttpRule](<#HttpRule>)
  - [func Parse\(url string\) \(\*HttpRule, error\)](<#Parse>)
- [type MatchPath](<#MatchPath>)
- [type PathNode](<#PathNode>)
- [type PathVar](<#PathVar>)
- [type RoutePath](<#RoutePath>)
  - [func ParseToRoute\(rule \*HttpRule\) \*RoutePath](<#ParseToRoute>)
  - [func \(r RoutePath\) Match\(urls \[\]string, verb string\) \(\[\]PathVar, error\)](<#RoutePath.Match>)
  - [func \(r RoutePath\) String\(\) string](<#RoutePath.String>)
- [type RouteTarget](<#RouteTarget>)
- [type RouteTree](<#RouteTree>)
  - [func NewRouteTree\(\) \*RouteTree](<#NewRouteTree>)
  - [func \(r \*RouteTree\) Add\(method string, url string, operation string\) error](<#RouteTree.Add>)
  - [func \(r \*RouteTree\) Match\(method, url string\) \(\*MatchPath, error\)](<#RouteTree.Match>)
- [type Segment](<#Segment>)
- [type Segments](<#Segments>)
- [type Variable](<#Variable>)


## Constants

<a name="DoubleStar"></a>

```go
const (
    DoubleStar = "**"
    Star       = "*"
)
```

<a name="HttpRule"></a>
## type HttpRule



```go
type HttpRule struct {
    Slash    string    `@"/"`
    Segments *Segments `@@!`
    Verb     *string   `(":" @Ident)?`
}
```

<a name="Parse"></a>
### func Parse

```go
func Parse(url string) (*HttpRule, error)
```



<a name="MatchPath"></a>
## type MatchPath



```go
type MatchPath struct {
    Operation string
    Verb      string
    Vars      []PathVar
}
```

<a name="PathNode"></a>
## type PathNode



```go
type PathNode struct {
    // contains filtered or unexported fields
}
```

<a name="PathVar"></a>
## type PathVar



```go
type PathVar struct {
    Fields []string
    Value  string
}
```

<a name="RoutePath"></a>
## type RoutePath



```go
type RoutePath struct {
    Paths []string
    Verb  *string
    Vars  []*pathVariable
}
```

<a name="ParseToRoute"></a>
### func ParseToRoute

```go
func ParseToRoute(rule *HttpRule) *RoutePath
```



<a name="RoutePath.Match"></a>
### func \(RoutePath\) Match

```go
func (r RoutePath) Match(urls []string, verb string) ([]PathVar, error)
```



<a name="RoutePath.String"></a>
### func \(RoutePath\) String

```go
func (r RoutePath) String() string
```



<a name="RouteTarget"></a>
## type RouteTarget



```go
type RouteTarget struct {
    Method    string
    Operation *string
    Verb      *string
    Vars      []*pathVariable
}
```

<a name="RouteTree"></a>
## type RouteTree



```go
type RouteTree struct {
    // contains filtered or unexported fields
}
```

<details><summary>Example</summary>
<p>



```go
var tree = NewRouteTree()
asserts.Exit(tree.Add("get", url1, "get_test"))
pp, err := tree.Match("get", "/v1/users/hh/1111/hello/444/555/hhh/6666/messages/nn/ss/mm/ddd/44:change")
asserts.Exit(err)
asserts.If(pp.Operation != "get_test", "not match")
// Output:
```

#### Output

```

```

</p>
</details>

<a name="NewRouteTree"></a>
### func NewRouteTree

```go
func NewRouteTree() *RouteTree
```



<a name="RouteTree.Add"></a>
### func \(\*RouteTree\) Add

```go
func (r *RouteTree) Add(method string, url string, operation string) error
```



<a name="RouteTree.Match"></a>
### func \(\*RouteTree\) Match

```go
func (r *RouteTree) Match(method, url string) (*MatchPath, error)
```



<a name="Segment"></a>
## type Segment



```go
type Segment struct {
    Path     *string   `@("*" "*" | "*" | Ident)`
    Variable *Variable `| @@`
}
```

<a name="Segments"></a>
## type Segments



```go
type Segments struct {
    Segments []*Segment `@@ ("/" @@)*`
}
```

<a name="Variable"></a>
## type Variable



```go
type Variable struct {
    Fields   []string  `"{" @Ident ("." @Ident)*`
    Segments *Segments `("=" @@)? "}"`
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
